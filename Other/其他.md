# 其他

主要记录一些满足我求知欲的东西。



## 主设备号与次设备号

Linux的设备管理和文件系统紧密结合，各种设备都以文件的形式保存在`/dev`目录下，称为设备文件。应用程序可以像普通文件一样打开、读写和关闭这些设备文件，完成对设备的操作。

Linux系统为了管理方便，将设备分为三种基本类型（通过`i_mode`区别）：

- 字符设备
- 块设备
- 网络设备



为了管理这些设备，操作系统为设备编了号。每个设备都有一个主设备号和一个次设备号（统称为设备号）：

- 主设备号用于区别不同类型的设备——用来索引与该设备类型的设备驱动（因此主设备号通常与设备驱动是一对一的关系）。
- 次设备号用于区别同一类型下的不同设备——用来索引当前设备类型指向的是哪个设备。



> 通常XX号都是用来索引某个操作系统的散列表。





## fork做了什么？为什么fork返回两个值？

想知道细节还得看源码，如[linux0.11系统调用过程和fork源码分析](https://zhuanlan.zhihu.com/p/61370385)。







## 密码学

通常我们会在本地生成一对密钥，分别是公钥和私钥。公钥是公开的，所有人可以使用公钥加密来发送密文，只有拥有私钥的人才能解密（问题：没有私钥如果强行解密会得到什么？）。这就保证了数据的安全性。

- 既然是加密，那肯定不希望别人知道我的消息，所有只有我才能解密。所以公钥负责加密，私钥负责解密。
- 既然是签名，那肯定不希望别人冒充我的签名，只有我才能发布这个签名，所以私钥负责签名，公钥负责验证。

理论上公钥和私钥是对等的，公布其中一个，另一个就成了私钥，但是对于算法生成来说，其生成的公钥和私钥的密码标准是不一样的，因此虽然可以公开私钥用私钥加密，公钥解密，但实际上这样是不安全的。

### ssh

ssh-keygen用于生成密钥对（公钥和私钥）。

ssh-copy-id将公钥复制到远程主机。




## 随机数

计算机是通过算法来生成随机数的，因此存在映射关系，即计算机生成的随机数不是真正的随机数，而是伪随机数，有规律的。

例如，计算机通过如下方式产生随机数：
- RAND_SEED = (RAND_SEED*123+59)%65536

因此计算机随机数的生成方式就是你丢一个数（种子）给它，它就根据随机数生成算法生成一个随机数返回。由于系统通常使用当前时间作为种子传给随机数生成算法，因此可以产生不同的随机数。

如果你每次放进同一个种子，生成的随机数就都一样了。




